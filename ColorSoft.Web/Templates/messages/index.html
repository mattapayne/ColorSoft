<div class="navbar">
    <div class="navbar-inner">
        <a href="#" class="brand">Messages</a>
        <ul class="nav nav-pills" ng-show="anySelected()">
            <li><a ng-click="showDeleteAllDialog()">Delete Selected</a></li>
        </ul>
    </div>
</div>
<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th>
                <input type="checkbox" ng-click="toggleAllSelected()" ng-checked="allSelected()" />
            </th>
            <th>
                <a ng-click="sortValue='Email'">From</a>
            </th>
            <th>
                <a ng-click="sortValue='Subject'">Subject</a>
            </th>
            <th>
                <a ng-click="sortValue='Message'">Message</a>
            </th>
            <th>
                <a ng-click="sortValue='CreatedAt'">Date</a>
            </th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-show="messages.length == 0">
            <td colspan="6">There are currently no messages</td>
        </tr>
        <tr ng-repeat="message in messages | orderBy:sortValue">
            <td>
                <input type="checkbox" ng-checked="isSelected(message)" ng-click="updateSelection($event, message)" />
            </td>
            <td>
                {{ message.Email }}
            </td>
            <td>
                {{ message.Subject }}
            </td>
            <td>
                {{ message.Message }}
            </td>
            <td>
                {{ message.CreatedAt }}
            </td>
            <td>
                <a ng-click="showDeleteDialog(message)">Delete</a>
            </td>
        </tr>
    </tbody>
</table>
<div ui-modal id="deleteDialog" class="fade" tabindex="-1" ng-model="deleteDialogVisible" ng-controller="ColorSoft.Controllers.DeleteMessageCtrl">
    <div class="modal-header">
        <button type="button" class="close" ng-click="closeDeleteDialog()" aria-hidden="true">
            &times;</button>
        <h3>
            Confirm Delete
        </h3>
    </div>
    <div class="modal-body">
        {{ deleteMessagesText() }}
    </div>
    <div class="modal-footer">
        <a ng-click="closeDeleteDialog()" class="btn">No</a> <a ng-click="deleteMessages()"
            class="btn btn-primary">Yes</a>
    </div>
</div>
